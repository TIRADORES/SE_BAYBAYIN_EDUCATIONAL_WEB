<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About Us</title>

  <link rel="stylesheet" href="style.css" />
  <!-- Font Awesome for icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />

  <style>
    body {
      display: flex;
      margin: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: #fafafa;
      color: #333;
    }

    /* Sidebar */
    .sidebar {
      width: 240px;
      background: #fff;
      border-right: 1px solid #ddd;
      padding: 20px;
      display: flex;
      flex-direction: column;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
    }

    .sidebar h2 {
      font-size: 22px;
      margin-bottom: 20px;
    }

    .nav {
      flex: 1;
    }

    .nav a {
      display: block;
      padding: 10px 0;
      color: #000;
      text-decoration: none;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .nav a.active {
      background: black;
      color: white;
      border-radius: 5px;
      padding-left: 10px;
    }

    .nav a:hover {
      color: white;
      background: black;
      border-radius: 5px;
      padding-left: 10px;
    }

    .user-section {
      margin-top: 20px;
      font-size: 14px;
      border-top: 1px solid #ddd;
      padding-top: 15px;
    }

    .user-section p {
      margin: 0;
    }

    .user-section a {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 15px;
      background: black;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-size: 14px;
    }

    /* Main content */
    .main-content {
      margin-left: 240px;
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }

    .about-container {
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      text-align: center;
      animation: fadeInZoom 1s ease-in-out;
    }

    @keyframes fadeInZoom {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .about-container h1,
    .about-container h2 {
      margin-bottom: 15px;
    }

    .about-container p {
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 30px;
    }

    /* ICONS CONTAINER */
    .social-icons {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-top: 20px;
    }

    .icon {
      position: relative;
      cursor: pointer;
      text-align: center;
    }

    .icon span {
      height: 55px;
      width: 55px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .icon .tooltip {
      position: absolute;
      top: -35px;
      left: 50%;
      transform: translateX(-50%);
      background: #000;
      color: #fff;
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 13px;
      opacity: 0;
      transition: all 0.3s ease;
      pointer-events: none;
    }

    .icon:hover .tooltip {
      opacity: 1;
      top: -45px;
    }

    .facebook span {
      background: #1877f2;
    }
    .instagram span {
      background: radial-gradient(
        circle at 30% 107%,
        #fdf497 0%,
        #fd5949 45%,
        #d6249f 60%,
        #285aeb 90%
      );
    }
    .gmail span {
      background: #d44638;
    }

    .icon:hover span {
      transform: scale(1.15);
      box-shadow: 0 6px 14px rgba(0, 0, 0, 0.25);
    }

    /* Chat Modal */
    .chat-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .chat-box {
      background: #fff;
      padding: 25px;
      border-radius: 10px;
      width: 90%;
      max-width: 400px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
      animation: fadeInZoom 0.5s;
      position: relative;
      text-align: center;
    }

    .chat-box textarea {
      width: 100%;
      height: 120px;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      resize: none;
    }

    .chat-box button {
      margin-top: 15px;
      padding: 10px 20px;
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .chat-box button:hover {
      background: #0056b3;
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 20px;
      cursor: pointer;
      color: #888;
    }

    .close-btn:hover {
      color: #000;
    }

    .popup-message {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #28a745;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 15px;
      font-weight: bold;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease, top 0.3s ease;
    }

    .popup-message.show {
      opacity: 1;
      top: 45%;
    }
  </style>
</head>

<body class="dashboard">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-header">
      <h2>Baybayin.com</h2>
    </div>

    <div class="nav">
      <a href="dashboard.html">Home</a>
      <a href="lessons.html">Lessons</a>
      <a href="fashion.html">Fashion Trend</a>
      <a href="about.html" class="active">About Us</a>
      <a href="govnews.html">Government News</a>
      <a href="quiz.html">Assessment</a>
      
    </div>

    <!-- ✅ Dynamic User Info -->
    <div class="user-section" id="userSection">
      <p>
        <strong id="userFullname">Loading...</strong><br />
        <small id="userEmail"></small>
      </p>
      <a href="#" id="logoutBtn">Logout</a>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div class="about-container">
      <h1>About Us</h1>
      <p>
        Welcome to <strong>Baybayin.com</strong> — a digital platform dedicated
        to preserving and promoting Baybayin culture through modern technology.
        Explore lessons, trends, and news while staying connected with us.
      </p>

      <h2>Contact Us</h2>
      <div class="social-icons">
        <!-- Gmail -->
        <div class="icon gmail" id="gmailBtn">
          <div class="tooltip">Gmail</div>
          <span><i class="fas fa-envelope"></i></span>
        </div>

        <!-- Facebook -->
        <a href="https://facebook.com" target="_blank" class="icon facebook">
          <div class="tooltip">Facebook</div>
          <span><i class="fab fa-facebook-f"></i></span>
        </a>

        <!-- Instagram -->
        <a href="https://instagram.com" target="_blank" class="icon instagram">
          <div class="tooltip">Instagram</div>
          <span><i class="fab fa-instagram"></i></span>
        </a>
      </div>
    </div>
  </div>

  <!-- Chat Modal -->
  <div class="chat-modal" id="chatModal">
    <div class="chat-box">
      <span class="close-btn" id="closeChat">&times;</span>
      <h3>Send a Message</h3>
      <form id="contactForm" action="https://formsubmit.co/baybayinedu@gmail.com" method="POST">
        <input type="hidden" name="_captcha" value="false" />
        <input type="hidden" name="_subject" value="New message from Baybayin.com" />
        <textarea name="message" placeholder="Write your message here..." required></textarea>
        <button type="submit">Send</button>
      </form>
      <div id="popupMessage" class="popup-message">✅ Message Sent Successfully!</div>
    </div>
  </div>

  <script>
    // 🔹 Get user info from localStorage
    const currentUser = JSON.parse(localStorage.getItem("currentUser"));
    const userFullname = document.getElementById("userFullname");
    const userEmail = document.getElementById("userEmail");
    const logoutBtn = document.getElementById("logoutBtn");

    if (currentUser) {
      userFullname.textContent = currentUser.fullname;
      userEmail.textContent = currentUser.email;
    } else {
      window.location.href = "login.html";
    }

    logoutBtn.addEventListener("click", () => {
      localStorage.removeItem("currentUser");
      window.location.href = "login.html";
    });

    // 🔹 Chat modal and form handling
    const gmailBtn = document.getElementById("gmailBtn");
    const chatModal = document.getElementById("chatModal");
    const closeChat = document.getElementById("closeChat");
    const contactForm = document.getElementById("contactForm");
    const popupMessage = document.getElementById("popupMessage");

    gmailBtn.addEventListener("click", () => (chatModal.style.display = "flex"));
    closeChat.addEventListener("click", () => (chatModal.style.display = "none"));
    window.addEventListener("click", (e) => {
      if (e.target === chatModal) chatModal.style.display = "none";
    });

    contactForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      const formData = new FormData(contactForm);

      // Include sender name/email
      if (currentUser) {
        formData.append("Sender Name", currentUser.fullname);
        formData.append("Sender Email", currentUser.email);
      }

      try {
        const response = await fetch(contactForm.action, {
          method: "POST",
          body: formData,
        });

        if (response.ok) {
          popupMessage.classList.add("show");
          contactForm.reset();
          setTimeout(() => {
            popupMessage.classList.remove("show");
            chatModal.style.display = "none";
          }, 2000);
        } else {
          alert("⚠️ Something went wrong. Please try again.");
        }
      } catch (error) {
        alert("❌ Failed to send message. Check your internet connection.");
      }
    });
  </script>
</body>
</html>
